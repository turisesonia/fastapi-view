import{u as g,e as f,b as n,o as a,a as e,f as b,g as l,t as d,h as c,v as p,i as r,d as m}from"./app-BB4djP1R.js";const y={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},v={class:"max-w-md w-full space-y-8"},w={key:0,class:"rounded-md bg-red-50 p-4"},h={class:"flex"},k={class:"ml-3"},_={class:"text-sm font-medium text-red-800"},V={class:"space-y-4"},B={key:0,class:"mt-1 text-sm text-red-600"},C={key:0,class:"mt-1 text-sm text-red-600"},S=["disabled"],F={key:0,class:"mr-2"},q={__name:"Login",props:{error:String,username:String},setup(i){const t=g({username:i.username||"",password:""}),o=f(!1);function x(){o.value=!0,t.post("/auth/login",{onFinish:()=>{o.value=!1},onError:()=>{t.password=""}})}return(N,s)=>(a(),n("div",y,[e("div",v,[s[5]||(s[5]=e("div",null,[e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," 登入您的帳號 "),e("p",{class:"mt-2 text-center text-sm text-gray-600"}," FastAPI View 範例應用 ")],-1)),e("form",{class:"mt-8 space-y-6",onSubmit:b(x,["prevent"])},[i.error?(a(),n("div",w,[e("div",h,[e("div",k,[e("h3",_,d(i.error),1)])])])):l("",!0),e("div",V,[e("div",null,[s[2]||(s[2]=e("label",{for:"username",class:"block text-sm font-medium text-gray-700"}," 用戶名 ",-1)),c(e("input",{id:"username","onUpdate:modelValue":s[0]||(s[0]=u=>r(t).username=u),name:"username",type:"text",required:"",class:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"請輸入用戶名"},null,512),[[p,r(t).username]]),r(t).errors.username?(a(),n("div",B,d(r(t).errors.username),1)):l("",!0)]),e("div",null,[s[3]||(s[3]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," 密碼 ",-1)),c(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=u=>r(t).password=u),name:"password",type:"password",required:"",class:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"請輸入密碼"},null,512),[[p,r(t).password]]),r(t).errors.password?(a(),n("div",C,d(r(t).errors.password),1)):l("",!0)])]),e("div",null,[e("button",{type:"submit",disabled:r(t).processing||o.value,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"},[r(t).processing||o.value?(a(),n("span",F,s[4]||(s[4]=[e("svg",{class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):l("",!0),m(" "+d(r(t).processing||o.value?"登入中...":"登入"),1)],8,S)])],32),s[6]||(s[6]=e("div",{class:"mt-8"},[e("div",{class:"bg-blue-50 border border-blue-200 rounded-md p-4"},[e("h3",{class:"text-sm font-medium text-blue-800 mb-2"},"測試帳號"),e("div",{class:"text-sm text-blue-700 space-y-1"},[e("p",null,[e("strong",null,"管理員:"),m(" admin / password")]),e("p",null,[e("strong",null,"一般用戶:"),m(" user / password")])])])],-1))])]))}};export{q as default};
